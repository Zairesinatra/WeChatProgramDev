# **WeChatProgramDev**

------

### <u>Welcome to my project, here are some things I want to describe.</u>

·微信开放平台与微信公众号平台的主要区别

·小程序与APP本质区别

·小程序适合的业务场景

·注册小程序开发者账号

·使用小程序开发者工具创建小程序项目

### <u>Whether you are a native Chinese speaker or not, and want to learn Wechat applet development, try Google translation to master the above and next content</u>

------

### 1.微信开发概述

基于微信提供的大量接口和功能，进行二次开发，叫做微信开发。

##### ·微信开放平台（主要后端使用，前端了解）	-	https://open.weixin.qq.com

​	第三方网站调用微信登陆、支付、分享等微信开放的接口，需上微信开放平台申请相关的权限才可集成在自己的网站或者APP。

##### ·微信开放平台能力

​	微信分享、支付、登陆、收藏、etc...	可被集成使用。

##### ·开发者资质认证

​	仅通过开发者资质认证，才可使用开放平台提供的能力。个人无法申请、仅企业可申请。

##### ·微信公众平台	-	https://mp.weixin.qq.com

​	通过公众号为微信服务提供咨询和服务。即基于微信公众号进行的业务开发。

​	公众号包括订阅号（偏向为用户传达咨询）、服务号（偏向服务交互：查询、114）、小程序（新的开放能力）、企业微信（企业专业办公管理工具：打卡、审批...）。

##### ·微信开放平台与公众平台的区别：

| 开放平台                               | 公众平台                                 |
| -------------------------------------- | ---------------------------------------- |
| 是微信对外开放API接口的平台            | 基于微信公众号，为微信用户提供服务的平台 |
| 开放的API接口，提供第三方网站和APP调用 | 所有公众号属于微信内开发                 |
| 后端程序员为开放平台的主力军           | 前端程序员为公众平台开发主力军           |

### 2.认识小程序

##### ·小程序定义、特点、理念与目的：

​	链接用户与服务的媒介；体积小方便传播；用完即走（轻度依赖）；拦截用户流量入口，模拟APP体验

##### ·与传统手机APP区别

​	在开发原理上，不同于手机系统提供的API而是通过微信提供的API。且小程序不同于APP运行于手机操作系统，而是基于手机微信。

### 3.小程序的组件与API

​	组件是视图层基本单元，自带微信风格样式。通常一个组件包括<u>开始标签</u>和<u>结束标签</u>，<u>属性</u>用来修饰这个组件，<u>内容</u>在两个标签之间。

​	注意：所有<u>组件名称</u>和<u>属性名称</u>为小写。

![微信扫码体验小程序的组件](/Users/xieziyi/Library/Application Support/typora-user-images/截屏2021-02-23 11.15.10.png)

##### 	·小程序API

​		API（Application Programming Interface，应用程序编程接口）是预先定义的函数。通过API开发人员无需访问程序的源码。

##### 	·```API```三种分类

​		a.事件监听```API```

​			特点：这类```API```以on开头,监听某个事件是否触发。

​			举例：```wx.onNetworkStatusChange(function callback)	//当网络状态改变时触发此类事件```

​		b.同步API

​			特点1：以```Sync```结尾的API都是同步的```Sync```

​			特点2：同步```API```执行结果都可以通过函数的返回值直接获取

​			举例：```var batteryInfo = wx.getBatteryInfoSync()	//获取电池信息```

​		c.异步```API```

​			特点：需要指定回调函数接收调用的结果。小程序中大多```API```为异步```API```

​			举例：```wx.request(Object object)	//发起HTTPS网络请求，这里的wx可以视作浏览器中window对象```

##### 	·组件与API的异同点

​			组件与API都是官方提供，为方便小程序快速开发。

​			组件以UI结构布局为主，一般不需要处理业务逻辑。API以纯业务为主，一般没有对应UI结构。

##### 	·练习题：

​		1.下列不属于小程序的特点的是（A）

​		A、需要安装应用程序	B、体积小	C、方便获取	D、传播快

​		2.下列不是小程序提供的API的是 （D）

​		A、wx.onNetWorkStatusChange(fn,cb)	B、wx.getEatteryInfoSync()	C、wx.request(obj, obj)	D、wx.getElement()

​		3.使用微信开放平台需要具备什么（A）

​		A、开发者资质认证	B、微信资质认证	C、微信证书	D、微信内部职工

### 4.小程序开发账号

·注册开发者账号https://developers.weixin.qq.com/miniprogram/introduction/#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B3%A8%E5%86%8C

·基本信息设置

​	登陆小程序后台->设置->基本设置

·开发者设置

​	小程序后台 -> 开发 -> 开发设置

·成员权限说明

​	开发者权限、运营者权限、数据分析者

### 5.小程序开发者工具的使用

​	下载微信开发者工具

​	对于小程序来说`app.js`和`app.json`是必须的（小程序入口和全局配置文件必须的）

​	对于小程序的页面来说```.js和.wxml```文件是必须的（业务逻辑和UI结构）

------

#### 小程序的结构和组件

##### 1.小程序页面与Vue组件的对比

| .vue组件         | 小程序页面    |
| ---------------- | ------------- |
| `template`模板   | `.wxml`结构   |
| `script`行为逻辑 | `.js`逻辑     |
| `style`样式      | `.json`配置   |
| \                | `.wxss`样式表 |

`.wxml结构`：描述当前页面结构，提供类似于Vue中指令语法

`.js`：定义当前页面得到的数据、交互逻辑和形影用户的操作

`.json`：配置个性化配置

`.wxss`：定义样式美化当前页面

·下列属于小程序开发者权限是的（A）

A、开发模块权限	B、管理模块权限	C、统计模块权限	 D、推广模块权限

·在小程序项目中下列不属于管理员分配的权限是（A）

A、产品设计权限	B、开发者权限	C、运营者权限	D、数据分析者

·下列不属于小程序项目结构目录的是（C）

A、app.js	B、app.json	C、app.jsp	D、app.wxss

##### 2.创建自己的小程序页面

·pages目录上右键 新建目录 ，并将目录名改为 home

·新建的 home 目录右键，选择 新建page 将页面命名为 home，这里会自动生成。

·设置小程序项目的默认首页

​	app.json全局配置文件找到pages节点。此节点是一个数组存储所有页面的访问路径。其中pages数组中第一个路径页面就是小程序项目的默认首页。

**·小程序中常用的UI组件**

​	小程序中提供的组件就像HTML中div, p标签等作用一样

`text文本`

| 属性名       | 类型      | 默认值  | 说明                                                         |
| ------------ | --------- | ------- | ------------------------------------------------------------ |
| `selectable` | `Boolean` | `false` | `文本是否可选，除text外其他组件无法长按选中`                 |
| `space`      | `String`  | `false` | `显示连续空格，可选值：ensp(每个空格渲染成英文长度)、emsp(每一个空格渲染成汉字的长度)、nbsp(每一个空格渲染成当前文字长度)` |
| `decode`     | `Boolean` | `false` | `是否解码，可解析 &nbsp；&lt；&gt；&amp；&apos；&ensp；&emsp` |

`Button按钮组件`

| 属性名     | 类型      | 默认值    | 说明                       |
| ---------- | --------- | --------- | -------------------------- |
| `size`     | `String`  | `default` | 按钮的大小                 |
| `type`     | `String`  | `default` | 按钮的样式类型             |
| `plain`    | `Boolean` | `false`   | 按钮是否为镂空，背景色透明 |
| `disabled` | `Boolean` | `false`   | 是否禁用                   |
| `loading`  | `Boolean` | `false`   | 名称前是否带有loading图标  |

<u>默认按钮独占一行,设置以后变为行内</u>

`input输入框组件`

| 属性名        | 类型      | 默认值  | 说明                               |
| ------------- | --------- | ------- | ---------------------------------- |
| `value`       | `string`  |         | 输入框初始内容                     |
| `type`        | `string`  | `text`  | `input`类型                        |
| `placeholder` | `string`  |         | 输入框为空占位符                   |
| `password`    | `Boolean` | `false` | 是否密码类型                       |
| `disabled`    | `Boolean` | `false` | 是否禁用                           |
| `maxlength`   | `Number`  | 140     | 最大长度，设置为-1时不限制最大长度 |

`image图片属性`

​	·`src`：支持网络图片或者本地图片	image图片默认宽高为w:300px、H:225px

​	·`mode`：指定图片宽高和缩放的模式-`aspectFill(图片宽高完全拉伸填满image)`和`aspectFit(图片长边完全显示)`

**·小程序的样式**

​	·什么是WXSS-一套样式语言决定WXML组件显示

​	·相比于CSS扩展尺寸单位、样式导入

​	·支持绝大多数选择器，而有些许不同，如属性选择器需要加 `data-`

​	·什么是`rpx`尺寸单位 - responsive pixel - 小程序独有解决屏幕自适应的单位（web端用的是rem需要手动换算）	-不论什么屏幕都分为`750rpx`	

​	·`rpx`与`px`之间的换算	-	以iphone6为标准例：`750rpx=375px(屏幕宽度)=750物理像素`	=>	`1rpx=0.5px=1物理像素`

​	·`rpx`与`iPhone6`设计稿关系	-	设计师视觉稿是二倍图所以要绘制宽高`200px`盒子则可以直接换算为`200rpx`

**·案例-使用`rpx`绘制一个占屏幕一半的盒子**

​	思路：小程序的`rpx`尺寸单位把所有尺寸的屏幕同一划分了750分，不论屏幕大小，`375rpx`可以被小程序识别渲染为屏幕宽度的一半。

​	·`@import`样式导入

​		使用`@import`可以导入外联样式表

```css
@import "wxss样式表的相对路径"
```

​	·全局样式与局部样式

```js
全局样式定义在app.wxss中，作用于每一个页面中；局部样式在wxss文件中定义的样式，仅在对应页面，会覆盖app.wxss中相同选择器
当且仅当局部样式的权重大于或等于全局样式的权重时，才会覆盖全局样式的效果。
```

·在新建小程序页面默认生成的结构中不包含哪个后缀名的文件（B）

 A、.js	B、.css	C、.json	D、.wxss

·下列不属于text组件属性的是（D）

A、selected	B、space	C、decode	D、checked

·下列不属于button按钮属性的是（C）

A、size	B、type	C、plan	D、loading